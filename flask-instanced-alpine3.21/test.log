make[2]: Entering directory '/home/kevin/Documents/losfuzzys/LosTemplates/flask-instanced-alpine3.21'
[1;34m[+] Building Challenge Container[0m
docker build -t localhost/flask-instanced-alpine3.21-challenge --platform linux/amd64 \
	--build-arg CACHEBUST=1746309059 /home/kevin/Documents/losfuzzys/LosTemplates/flask-instanced-alpine3.21/challenge/
DEPRECATED: The legacy builder is deprecated and will be removed in a future release.
            Install the buildx component to build images with BuildKit:
            https://docs.docker.com/go/buildx/

time="2025-05-03T23:50:59+02:00" level=warning msg="Failed to get credentials for registry: europe-west3-docker.pkg.dev" error="error getting credentials - err: exec: \"docker-credential-gcloud\": executable file not found in $PATH, out: ``"
Sending build context to Docker daemon  15.87kB
Step 1/12 : FROM docker.io/library/alpine@sha256:a8560b36e8b8210634f77d9f7f9efd7ffa463e380b75e2e74aff4511df3ef88c
 ---> aded1e1a5b37
Step 2/12 : RUN apk update && apk add --no-cache socat python3 py3-pip coreutils && rm -rf /var/cache/apk/*
 ---> Using cache
 ---> 72d34c113c8c
Step 3/12 : RUN python3 -m venv /.venv
 ---> Using cache
 ---> fc6ca40b1505
Step 4/12 : ENV PATH="/.venv/bin:$PATH"
 ---> Using cache
 ---> 682aa14fd74d
Step 5/12 : COPY requirements.txt /app/requirements.txt
 ---> Using cache
 ---> 9faa971a97aa
Step 6/12 : RUN pip install --no-cache-dir --upgrade -r /app/requirements.txt
 ---> Using cache
 ---> 60f09f184876
Step 7/12 : RUN mkdir -p /app
 ---> Using cache
 ---> 680bf36479ef
Step 8/12 : COPY entrypoint.sh /app
 ---> Using cache
 ---> f72c3e0b8cb3
Step 9/12 : COPY flag.txt /flag.txt
 ---> Using cache
 ---> e2d02e0baca4
Step 10/12 : COPY src/ /app
 ---> Using cache
 ---> f99e40f48102
Step 11/12 : RUN chmod +x /app/app.py
 ---> Using cache
 ---> 34d2134223b0
Step 12/12 : CMD /app/entrypoint.sh
 ---> Using cache
 ---> a3d7ad253185
[Warning] One or more build-args [CACHEBUST] were not consumed
Successfully built a3d7ad253185
Successfully tagged localhost/flask-instanced-alpine3.21-challenge:latest
rm -f challenge/challenge.tar
docker save --output helper/challenge.tar localhost/flask-instanced-alpine3.21-challenge
#docker build -t localhost/flask-instanced-alpine3.21-build --target builder --platform linux/amd64 .
#docker run  -v /home/kevin/Documents/losfuzzys/LosTemplates/flask-instanced-alpine3.21/dist:/dist:z localhost/flask-instanced-alpine3.21-build
#cp /home/kevin/Documents/losfuzzys/LosTemplates/flask-instanced-alpine3.21/challenge/challenge /home/kevin/Documents/losfuzzys/LosTemplates/flask-instanced-alpine3.21/solution/
docker build -t localhost/flask-instanced-alpine3.21 --platform linux/amd64 \
	--build-arg CACHEBUST=1746309059 /home/kevin/Documents/losfuzzys/LosTemplates/flask-instanced-alpine3.21/helper/
DEPRECATED: The legacy builder is deprecated and will be removed in a future release.
            Install the buildx component to build images with BuildKit:
            https://docs.docker.com/go/buildx/

time="2025-05-03T23:50:59+02:00" level=warning msg="Failed to get credentials for registry: europe-west3-docker.pkg.dev" error="error getting credentials - err: exec: \"docker-credential-gcloud\": executable file not found in $PATH, out: ``"
Sending build context to Docker daemon  88.98MB
Step 1/13 : FROM quay.io/podman/stable:v5.2.0 as base
 ---> 381874c4f8a9
Step 2/13 : RUN dnf -y install socat caddy iproute && dnf clean all
 ---> Using cache
 ---> 780e6bee8e48
Step 3/13 : COPY ./challenge.tar /app/
 ---> 7f4377c5857b
Step 4/13 : RUN chown 1000:1000 /app/challenge.tar
 ---> Running in 815c40b46a04
 ---> Removed intermediate container 815c40b46a04
 ---> 2e2f09da76f2
Step 5/13 : COPY Caddyfile /app/Caddyfile
 ---> 28d1b6b0d9c9
Step 6/13 : COPY run.sh /app/run.sh
 ---> ec39ac3154cd
Step 7/13 : RUN chmod +x /app/run.sh
 ---> Running in b66b71365f29
 ---> Removed intermediate container b66b71365f29
 ---> 199b0feb701e
Step 8/13 : COPY cleaner.sh /app/cleaner.sh
 ---> 7c07ddfc9bff
Step 9/13 : RUN chmod +x /app/cleaner.sh
 ---> Running in 9ede3d18a285
 ---> Removed intermediate container 9ede3d18a285
 ---> 5e5fd5acae74
Step 10/13 : COPY entrypoint.sh /app/entrypoint.sh
 ---> 0bb1c7a62d42
Step 11/13 : RUN chmod +x /app/entrypoint.sh
 ---> Running in 237d094bb919
 ---> Removed intermediate container 237d094bb919
 ---> c196aa44cf25
Step 12/13 : USER 1000
 ---> Running in 8f009f77e2b4
 ---> Removed intermediate container 8f009f77e2b4
 ---> 29b8da92dda5
Step 13/13 : CMD /app/entrypoint.sh
 ---> Running in 05c8f72ab948
 ---> Removed intermediate container 05c8f72ab948
 ---> 8b32bb55fc35
[Warning] One or more build-args [CACHEBUST] were not consumed
Successfully built 8b32bb55fc35
Successfully tagged localhost/flask-instanced-alpine3.21:latest
rm -f helper/challenge.tar
make[2]: Leaving directory '/home/kevin/Documents/losfuzzys/LosTemplates/flask-instanced-alpine3.21'
make[2]: Entering directory '/home/kevin/Documents/losfuzzys/LosTemplates/flask-instanced-alpine3.21'
[1;34m[+] Running Challenge Container on 127.0.0.1:1337[0m
docker run --rm --name flask-instanced-alpine3.21 -p 127.0.0.1:1337:1337 -p 127.0.0.1:8080:8080 -e HOST=127.0.0.1 -e PORT=1337 -e PUBPORTSTART=11000 -e PUBPORTEND=15000 -e NAME=flask-instanced-alpine3.21 -e TIMEOUT=600 -e DOMAIN=localhost -e DOMAIN_PORT=8080 -e DOMAIN_PROT=http -e REGISTRY=localhost --privileged --platform linux/amd64 $([ -t 0 ] && echo "-it") localhost/flask-instanced-alpine3.21
docker: Error response from daemon: failed to set up container networking: driver failed programming external connectivity on endpoint flask-instanced-alpine3.21 (66bcc522077cd277ca2bc40302c3391d458d772d81482acc86c98d89f6ae2ba0): Bind for 127.0.0.1:1337 failed: port is already allocated

Run 'docker run --help' for more information
make[2]: *** [Makefile:74: crun] Error 125
make[2]: Leaving directory '/home/kevin/Documents/losfuzzys/LosTemplates/flask-instanced-alpine3.21'
make[2]: Entering directory '/home/kevin/Documents/losfuzzys/LosTemplates/flask-instanced-alpine3.21'
[1;34m[+] Building Challenge Container[0m
docker build -t localhost/flask-instanced-alpine3.21-challenge --platform linux/amd64 \
	--build-arg CACHEBUST=1746309138 /home/kevin/Documents/losfuzzys/LosTemplates/flask-instanced-alpine3.21/challenge/
DEPRECATED: The legacy builder is deprecated and will be removed in a future release.
            Install the buildx component to build images with BuildKit:
            https://docs.docker.com/go/buildx/

time="2025-05-03T23:52:18+02:00" level=warning msg="Failed to get credentials for registry: europe-west3-docker.pkg.dev" error="error getting credentials - err: exec: \"docker-credential-gcloud\": executable file not found in $PATH, out: ``"
Sending build context to Docker daemon  15.87kB
Step 1/12 : FROM docker.io/library/alpine@sha256:a8560b36e8b8210634f77d9f7f9efd7ffa463e380b75e2e74aff4511df3ef88c
 ---> aded1e1a5b37
Step 2/12 : RUN apk update && apk add --no-cache socat python3 py3-pip coreutils && rm -rf /var/cache/apk/*
 ---> Using cache
 ---> 72d34c113c8c
Step 3/12 : RUN python3 -m venv /.venv
 ---> Using cache
 ---> fc6ca40b1505
Step 4/12 : ENV PATH="/.venv/bin:$PATH"
 ---> Using cache
 ---> 682aa14fd74d
Step 5/12 : COPY requirements.txt /app/requirements.txt
 ---> Using cache
 ---> 9faa971a97aa
Step 6/12 : RUN pip install --no-cache-dir --upgrade -r /app/requirements.txt
 ---> Using cache
 ---> 60f09f184876
Step 7/12 : RUN mkdir -p /app
 ---> Using cache
 ---> 680bf36479ef
Step 8/12 : COPY entrypoint.sh /app
 ---> Using cache
 ---> f72c3e0b8cb3
Step 9/12 : COPY flag.txt /flag.txt
 ---> Using cache
 ---> e2d02e0baca4
Step 10/12 : COPY src/ /app
 ---> Using cache
 ---> f99e40f48102
Step 11/12 : RUN chmod +x /app/app.py
 ---> Using cache
 ---> 34d2134223b0
Step 12/12 : CMD /app/entrypoint.sh
 ---> Using cache
 ---> a3d7ad253185
[Warning] One or more build-args [CACHEBUST] were not consumed
Successfully built a3d7ad253185
Successfully tagged localhost/flask-instanced-alpine3.21-challenge:latest
rm -f challenge/challenge.tar
docker save --output helper/challenge.tar localhost/flask-instanced-alpine3.21-challenge
#docker build -t localhost/flask-instanced-alpine3.21-build --target builder --platform linux/amd64 .
#docker run  -v /home/kevin/Documents/losfuzzys/LosTemplates/flask-instanced-alpine3.21/dist:/dist:z localhost/flask-instanced-alpine3.21-build
#cp /home/kevin/Documents/losfuzzys/LosTemplates/flask-instanced-alpine3.21/challenge/challenge /home/kevin/Documents/losfuzzys/LosTemplates/flask-instanced-alpine3.21/solution/
docker build -t localhost/flask-instanced-alpine3.21 --platform linux/amd64 \
	--build-arg CACHEBUST=1746309138 /home/kevin/Documents/losfuzzys/LosTemplates/flask-instanced-alpine3.21/helper/
DEPRECATED: The legacy builder is deprecated and will be removed in a future release.
            Install the buildx component to build images with BuildKit:
            https://docs.docker.com/go/buildx/

time="2025-05-03T23:52:19+02:00" level=warning msg="Failed to get credentials for registry: europe-west3-docker.pkg.dev" error="error getting credentials - err: exec: \"docker-credential-gcloud\": executable file not found in $PATH, out: ``"
Sending build context to Docker daemon  88.98MB
Step 1/13 : FROM quay.io/podman/stable:v5.2.0 as base
 ---> 381874c4f8a9
Step 2/13 : RUN dnf -y install socat caddy iproute && dnf clean all
 ---> Using cache
 ---> 780e6bee8e48
Step 3/13 : COPY ./challenge.tar /app/
 ---> d29e79d3fec8
Step 4/13 : RUN chown 1000:1000 /app/challenge.tar
 ---> Running in e6456e3198d7
 ---> Removed intermediate container e6456e3198d7
 ---> 09d685029744
Step 5/13 : COPY Caddyfile /app/Caddyfile
 ---> 272854b3061c
Step 6/13 : COPY run.sh /app/run.sh
 ---> 62f53f723279
Step 7/13 : RUN chmod +x /app/run.sh
 ---> Running in 3b62a662db52
 ---> Removed intermediate container 3b62a662db52
 ---> 26d1dbc1c7a8
Step 8/13 : COPY cleaner.sh /app/cleaner.sh
 ---> 097cbf174b50
Step 9/13 : RUN chmod +x /app/cleaner.sh
 ---> Running in 182200fe1124
 ---> Removed intermediate container 182200fe1124
 ---> d69ac1469ab5
Step 10/13 : COPY entrypoint.sh /app/entrypoint.sh
 ---> 7b64fb31ccef
Step 11/13 : RUN chmod +x /app/entrypoint.sh
 ---> Running in 9514435641e3
 ---> Removed intermediate container 9514435641e3
 ---> 0b87f32aa584
Step 12/13 : USER 1000
 ---> Running in 2a7df89f7673
 ---> Removed intermediate container 2a7df89f7673
 ---> 3aaa4d0f9e9c
Step 13/13 : CMD /app/entrypoint.sh
 ---> Running in b54b25c3683c
 ---> Removed intermediate container b54b25c3683c
 ---> 8002ad38e788
[Warning] One or more build-args [CACHEBUST] were not consumed
Successfully built 8002ad38e788
Successfully tagged localhost/flask-instanced-alpine3.21:latest
rm -f helper/challenge.tar
make[2]: Leaving directory '/home/kevin/Documents/losfuzzys/LosTemplates/flask-instanced-alpine3.21'
make[2]: Entering directory '/home/kevin/Documents/losfuzzys/LosTemplates/flask-instanced-alpine3.21'
[1;34m[+] Running Challenge Container on 127.0.0.1:1337[0m
docker run --rm --name flask-instanced-alpine3.21 -p 127.0.0.1:1337:1337 -p 127.0.0.1:8080:8080 -e HOST=127.0.0.1 -e PORT=1337 -e PUBPORTSTART=11000 -e PUBPORTEND=15000 -e NAME=flask-instanced-alpine3.21 -e TIMEOUT=600 -e DOMAIN=localhost -e DOMAIN_PORT=8080 -e DOMAIN_PROT=http -e REGISTRY=localhost --privileged --platform linux/amd64 $([ -t 0 ] && echo "-it") localhost/flask-instanced-alpine3.21
[+] Running in context uid=1000(podman) gid=1000(podman) groups=1000(podman)
[+] Loading challenge container image
Getting image source signatures
Copying blob sha256:08000c18d16dadf9553d747a58cf44023423a9ab010aab96cf263d2216b8b350
Copying blob sha256:04f9ad32b70993c33c389567dfe97f1b061b13d0f51947073a1885ab793498ba
Copying blob sha256:d14f2da32a8b14fe88314c58b14c7af24810316bbcd32943d85d043cf8d9593b
Copying blob sha256:24f3cad1bb1e363844848089a88a9402ce65e1ad142ac4e936c5e836f0f9284d
Copying blob sha256:bba7f78d4bfdf0d18ec3ebf2d576f2bba14ed9a98fba503f91a60c112856fe37
Copying blob sha256:46f3e6b1d6116d9a86db7434858a7c5238a4b5b7fc51de876ce6099098cd5a6a
Copying blob sha256:886dd298b6d8d56ec9da84eb92228f5124dedb900c31b48d095f6e4a4a858bee
Copying blob sha256:774bb6d97dbfdcea8a1df87da003c810f6da733f7a8cef7aca69f357308f8117
Copying blob sha256:c4a7fdf9f180aa7828ef21abd6aae3a24479f6908b16845e380e5c2f5453e284
Copying config sha256:a3d7ad2531859ee08716642dd855e2dd687c967d8f02a0da54bbffe939daef16
Writing manifest to image destination
Loaded image: localhost/flask-instanced-alpine3.21-challenge:latest
[+] Running cleaner in the background
[+] Running caddy proxy server
[+] Nothing to clean
{"level":"info","ts":1746309142.8198426,"msg":"using provided configuration","config_file":"/app/Caddyfile","config_adapter":""}
{"level":"info","ts":1746309142.822448,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//127.0.0.1:2019","//localhost:2019","//[::1]:2019"]}
{"level":"warn","ts":1746309142.822553,"logger":"http.auto_https","msg":"automatic HTTPS is completely disabled for server","server_name":"srv0"}
{"level":"info","ts":1746309142.822856,"logger":"tls.cache.maintenance","msg":"started background certificate maintenance","cache":"0xc000139500"}
{"level":"info","ts":1746309142.823361,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
{"level":"warn","ts":1746309142.8236334,"logger":"tls","msg":"unable to get instance ID; storage clean stamps will be incomplete","error":"open /home/podman/.local/share/caddy/instance.uuid: no such file or directory"}
{"level":"info","ts":1746309142.8241885,"msg":"autosaved config (load with --resume flag)","file":"/home/podman/.config/caddy/autosave.json"}
{"level":"info","ts":1746309142.8241937,"msg":"serving initial configuration"}
{"level":"info","ts":1746309142.8257315,"logger":"tls","msg":"cleaning storage unit","storage":"FileStorage:/home/podman/.local/share/caddy"}
{"level":"info","ts":1746309142.8258338,"logger":"tls","msg":"finished cleaning storage units"}
make[2]: Entering directory '/home/kevin/Documents/losfuzzys/LosTemplates/flask-instanced-alpine3.21'
[1;34m[+] Building Solvescript Container[0m
cd solution/ ; \
docker build -t localhost/flask-instanced-alpine3.21-solvescript --platform linux/amd64 .
DEPRECATED: The legacy builder is deprecated and will be removed in a future release.
            Install the buildx component to build images with BuildKit:
            https://docs.docker.com/go/buildx/

time="2025-05-03T23:52:26+02:00" level=warning msg="Failed to get credentials for registry: europe-west3-docker.pkg.dev" error="error getting credentials - err: exec: \"docker-credential-gcloud\": executable file not found in $PATH, out: ``"
Sending build context to Docker daemon  9.728kB
Step 1/12 : FROM docker.io/pwntools/pwntools@sha256:1707bef16a3fb924d53231d899eeecaf18b5ebbb78e23c38d41dcd19d147bf6b
 ---> 51a55ce6729c
Step 2/12 : RUN python3 -m venv /.venv
 ---> Running in 583cb7ddb816
[91mError: [Errno 13] Permission denied: '/.venv'
[0mThe command '/bin/sh -c python3 -m venv /.venv' returned a non-zero code: 1
make[2]: *** [Makefile:153: sbuild] Error 1
make[2]: Leaving directory '/home/kevin/Documents/losfuzzys/LosTemplates/flask-instanced-alpine3.21'
make[2]: *** [Makefile:74: crun] Error 137
make[2]: Leaving directory '/home/kevin/Documents/losfuzzys/LosTemplates/flask-instanced-alpine3.21'
make[2]: Entering directory '/home/kevin/Documents/losfuzzys/LosTemplates/flask-instanced-alpine3.21'
[1;34m[+] Building Challenge Container[0m
docker build -t localhost/flask-instanced-alpine3.21-challenge --platform linux/amd64 \
	--build-arg CACHEBUST=1746309285 /home/kevin/Documents/losfuzzys/LosTemplates/flask-instanced-alpine3.21/challenge/
DEPRECATED: The legacy builder is deprecated and will be removed in a future release.
            Install the buildx component to build images with BuildKit:
            https://docs.docker.com/go/buildx/

time="2025-05-03T23:54:45+02:00" level=warning msg="Failed to get credentials for registry: europe-west3-docker.pkg.dev" error="error getting credentials - err: exec: \"docker-credential-gcloud\": executable file not found in $PATH, out: ``"
Sending build context to Docker daemon  15.87kB
Step 1/12 : FROM docker.io/library/alpine@sha256:a8560b36e8b8210634f77d9f7f9efd7ffa463e380b75e2e74aff4511df3ef88c
 ---> aded1e1a5b37
Step 2/12 : RUN apk update && apk add --no-cache socat python3 py3-pip coreutils && rm -rf /var/cache/apk/*
 ---> Using cache
 ---> 72d34c113c8c
Step 3/12 : RUN python3 -m venv /.venv
 ---> Using cache
 ---> fc6ca40b1505
Step 4/12 : ENV PATH="/.venv/bin:$PATH"
 ---> Using cache
 ---> 682aa14fd74d
Step 5/12 : COPY requirements.txt /app/requirements.txt
 ---> Using cache
 ---> 9faa971a97aa
Step 6/12 : RUN pip install --no-cache-dir --upgrade -r /app/requirements.txt
 ---> Using cache
 ---> 60f09f184876
Step 7/12 : RUN mkdir -p /app
 ---> Using cache
 ---> 680bf36479ef
Step 8/12 : COPY entrypoint.sh /app
 ---> Using cache
 ---> f72c3e0b8cb3
Step 9/12 : COPY flag.txt /flag.txt
 ---> Using cache
 ---> e2d02e0baca4
Step 10/12 : COPY src/ /app
 ---> Using cache
 ---> f99e40f48102
Step 11/12 : RUN chmod +x /app/app.py
 ---> Using cache
 ---> 34d2134223b0
Step 12/12 : CMD /app/entrypoint.sh
 ---> Using cache
 ---> a3d7ad253185
[Warning] One or more build-args [CACHEBUST] were not consumed
Successfully built a3d7ad253185
Successfully tagged localhost/flask-instanced-alpine3.21-challenge:latest
rm -f challenge/challenge.tar
docker save --output helper/challenge.tar localhost/flask-instanced-alpine3.21-challenge
#docker build -t localhost/flask-instanced-alpine3.21-build --target builder --platform linux/amd64 .
#docker run  -v /home/kevin/Documents/losfuzzys/LosTemplates/flask-instanced-alpine3.21/dist:/dist:z localhost/flask-instanced-alpine3.21-build
#cp /home/kevin/Documents/losfuzzys/LosTemplates/flask-instanced-alpine3.21/challenge/challenge /home/kevin/Documents/losfuzzys/LosTemplates/flask-instanced-alpine3.21/solution/
docker build -t localhost/flask-instanced-alpine3.21 --platform linux/amd64 \
	--build-arg CACHEBUST=1746309285 /home/kevin/Documents/losfuzzys/LosTemplates/flask-instanced-alpine3.21/helper/
DEPRECATED: The legacy builder is deprecated and will be removed in a future release.
            Install the buildx component to build images with BuildKit:
            https://docs.docker.com/go/buildx/

time="2025-05-03T23:54:46+02:00" level=warning msg="Failed to get credentials for registry: europe-west3-docker.pkg.dev" error="error getting credentials - err: exec: \"docker-credential-gcloud\": executable file not found in $PATH, out: ``"
time="2025-05-03T23:54:46+02:00" level=error msg="Can't add file /home/kevin/Documents/losfuzzys/LosTemplates/flask-instanced-alpine3.21/helper/challenge.tar to tar: io: read/write on closed pipe"
time="2025-05-03T23:54:46+02:00" level=error msg="Can't close tar writer: io: read/write on closed pipe"
make[2]: *** [Makefile:84: cbuild] Error 130
